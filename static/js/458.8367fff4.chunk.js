"use strict";(self.webpackChunkable_pro_material_react_ts=self.webpackChunkable_pro_material_react_ts||[]).push([[458],{80458:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var n=r(47313),o=r(9019),a=r(57829),l=r(47605),c=r(80836),s=r(12267),i=r(51629),d=r(6759),u=r(7449),h=r(42988),m=r(70941),v=r(52741),p=r(42832),f=r(44610),k=r(4336),x=r(42870),g=r(75192),j=r.n(g),E=["variant","color","size"],y=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2zm.63 8.82c-.29.29-.77.29-1.06 0l-3.01-3.01V18c0 .41-.34.75-.75.75s-.75-.34-.75-.75V7.81l-3.01 3.01c-.29.29-.77.29-1.06 0a.742.742 0 01-.22-.53c0-.19.08-.39.22-.53l4.29-4.29a.75.75 0 011.06 0l4.29 4.29c.29.29.29.76 0 1.06z"}))},w=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M18.07 9.57L12 3.5 5.93 9.57M12 12V3.67M12 20.5v-4.53"}))},M=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M22 7.81v8.37c0 3.64-2.17 5.81-5.81 5.81H7.81C4.17 22 2 19.83 2 16.19V7.81C2 4.17 4.17 2 7.81 2h8.37C19.83 2 22 4.17 22 7.81z",opacity:".4"}),n.createElement("path",{fill:t,d:"M12.53 5.47l4.29 4.29c.29.29.29.77 0 1.06-.29.29-.77.29-1.06 0l-3.01-3.01V18c0 .41-.34.75-.75.75s-.75-.34-.75-.75V7.81l-3.01 3.01c-.29.29-.77.29-1.06 0a.742.742 0 01-.22-.53c0-.19.08-.39.22-.53l4.29-4.29a.75.75 0 011.06 0z"}))},L=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M18.07 9.57L12 3.5 5.93 9.57M12 20.5V3.67"}))},Z=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M18.07 10.32c-.19 0-.38-.07-.53-.22L12 4.56 6.46 10.1c-.29.29-.77.29-1.06 0a.754.754 0 010-1.06l6.07-6.07c.29-.29.77-.29 1.06 0l6.07 6.07c.29.29.29.77 0 1.06-.14.15-.34.22-.53.22z"}),n.createElement("path",{fill:t,d:"M12 21.25c-.41 0-.75-.34-.75-.75V3.67c0-.41.34-.75.75-.75s.75.34.75.75V20.5c0 .41-.34.75-.75.75z"}))},S=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M18.07 9.57L12 3.5 5.93 9.57"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M12 20.5V3.67",opacity:".4"}))},z=(0,n.forwardRef)((function(e,t){var r=e.variant,o=e.color,a=e.size,l=(0,x._)(e,E);return n.createElement("svg",(0,x.a)({},l,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return n.createElement(y,{color:t});case"Broken":return n.createElement(w,{color:t});case"Bulk":return n.createElement(M,{color:t});case"Linear":default:return n.createElement(L,{color:t});case"Outline":return n.createElement(Z,{color:t});case"TwoTone":return n.createElement(S,{color:t})}}(r,o))}));z.propTypes={variant:j().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:j().string,size:j().oneOfType([j().string,j().number])},z.defaultProps={variant:"Linear",color:"currentColor",size:"24"},z.displayName="ArrowUp";var T=["variant","color","size"],B=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2zm2.34 10.53l-4.29 4.29c-.15.15-.34.22-.53.22s-.38-.07-.53-.22a.754.754 0 010-1.06l3.01-3.01H6c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h10.19l-3.01-3.01a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0l4.29 4.29a.75.75 0 010 1.06z"}))},b=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07M11.01 12h9.32M3.5 12h3.47"}))},C=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2z",opacity:".4"}),n.createElement("path",{fill:t,d:"M18.53 11.47l-4.29-4.29a.754.754 0 00-1.06 0c-.29.29-.29.77 0 1.06l3.01 3.01H6c-.41 0-.75.34-.75.75s.34.75.75.75h10.19l-3.01 3.01c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l4.29-4.29a.75.75 0 000-1.06z"}))},P=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07M3.5 12h16.83"}))},O=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M14.43 18.82c-.19 0-.38-.07-.53-.22a.754.754 0 010-1.06L19.44 12 13.9 6.46a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0l6.07 6.07c.29.29.29.77 0 1.06l-6.07 6.07c-.15.15-.34.22-.53.22z"}),n.createElement("path",{fill:t,d:"M20.33 12.75H3.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h16.83c.41 0 .75.34.75.75s-.34.75-.75.75z"}))},F=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M3.5 12h16.83",opacity:".4"}))},R=(0,n.forwardRef)((function(e,t){var r=e.variant,o=e.color,a=e.size,l=(0,x._)(e,T);return n.createElement("svg",(0,x.a)({},l,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return n.createElement(B,{color:t});case"Broken":return n.createElement(b,{color:t});case"Bulk":return n.createElement(C,{color:t});case"Linear":default:return n.createElement(P,{color:t});case"Outline":return n.createElement(O,{color:t});case"TwoTone":return n.createElement(F,{color:t})}}(r,o))}));R.propTypes={variant:j().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:j().string,size:j().oneOfType([j().string,j().number])},R.defaultProps={variant:"Linear",color:"currentColor",size:"24"},R.displayName="ArrowRight";var I=r(46417);const W=e=>{let{color:t="primary",title:r,count:n,percentage:c,isLoss:s,extra:i}=e;return(0,I.jsxs)(k.Z,{contentSX:{p:2.25},children:[(0,I.jsxs)(p.Z,{spacing:.5,children:[(0,I.jsx)(l.Z,{variant:"h6",color:"textSecondary",children:r}),(0,I.jsxs)(o.ZP,{container:!0,alignItems:"center",children:[(0,I.jsx)(o.ZP,{item:!0,children:(0,I.jsx)(l.Z,{variant:"h4",color:"inherit",children:n})}),c&&(0,I.jsx)(o.ZP,{item:!0,children:(0,I.jsx)(f.Z,{variant:"combined",color:t,icon:(0,I.jsxs)(I.Fragment,{children:[!s&&(0,I.jsx)(z,{style:{transform:"rotate(45deg)"}}),s&&(0,I.jsx)(R,{style:{transform:"rotate(45deg)"}})]}),label:`${c}%`,sx:{ml:1.25,pl:1,borderRadius:1},size:"small"})})]})]}),(0,I.jsx)(a.Z,{sx:{pt:2.25},children:(0,I.jsxs)(l.Z,{variant:"caption",color:"textSecondary",children:[(0,I.jsx)(l.Z,{component:"span",variant:"caption",sx:{color:`${t||"primary"}.main`},children:i})," "]})})]})};var V=["variant","color","size"],D=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-5.4 9.23c.17-1.19.7-2.26 1.53-3.1 2-1.99 5.15-2.1 7.29-.36v-.95c0-.41.34-.75.75-.75s.75.34.75.75v2.67c0 .41-.34.75-.75.75H13.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h.75a3.965 3.965 0 00-5.07.45c-.6.6-.98 1.38-1.11 2.25-.05.37-.37.64-.74.64-.04 0-.07 0-.11-.01a.739.739 0 01-.62-.84zm9.27 4.64a5.45 5.45 0 01-3.87 1.6c-1.22 0-2.43-.43-3.43-1.24v.94c0 .41-.34.75-.75.75s-.75-.34-.75-.75V14.5c0-.41.34-.75.75-.75h2.67c.41 0 .75.34.75.75s-.34.75-.75.75h-.75c1.55 1.08 3.69.93 5.07-.45.6-.6.98-1.38 1.11-2.25.06-.41.43-.7.85-.64.41.06.69.44.64.85-.18 1.21-.71 2.28-1.54 3.11z"}))},$=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.01 14.51c.18.3.4.58.65.83a4.732 4.732 0 006.68 0 4.71 4.71 0 001.32-2.67M7.34 11.33c.14-.98.57-1.92 1.32-2.67a4.732 4.732 0 016.68 0c.26.26.47.54.65.83"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7.82 17.18v-2.67h2.67M16.18 6.82v2.67h-2.67"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 6c-1.25 1.67-2 3.75-2 6 0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2c-1.43 0-2.8.3-4.03.85"}))},A=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",opacity:".4"}),n.createElement("path",{fill:t,d:"M16.759 11.93a.741.741 0 00-.85.64c-.12.87-.51 1.65-1.11 2.25-1.38 1.38-3.52 1.52-5.07.45h.75c.41 0 .75-.34.75-.75s-.34-.75-.75-.75h-2.67c-.41 0-.75.34-.75.75v2.67c0 .41.34.75.75.75s.75-.34.75-.75v-.94c1 .81 2.21 1.24 3.43 1.24 1.4 0 2.8-.53 3.87-1.6.83-.83 1.36-1.9 1.53-3.1a.734.734 0 00-.63-.86zM7.34 12.08c.37 0 .69-.27.74-.64.12-.87.51-1.65 1.11-2.25 1.38-1.38 3.52-1.52 5.07-.45h-.75c-.41 0-.75.34-.75.75s.34.75.75.75h2.67c.41 0 .75-.34.75-.75V6.82c0-.41-.34-.75-.75-.75s-.75.34-.75.75v.94c-2.15-1.74-5.3-1.63-7.29.36-.83.83-1.36 1.9-1.53 3.1-.06.41.23.79.64.85.02.01.06.01.09.01z"}))},H=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.01 14.51c.18.3.4.58.65.83a4.732 4.732 0 006.68 0 4.71 4.71 0 001.32-2.67M7.34 11.33c.14-.98.57-1.92 1.32-2.67a4.732 4.732 0 016.68 0c.26.26.47.54.65.83"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7.82 17.18v-2.67h2.67M16.18 6.82v2.67h-2.67"}))},_=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{fill:t,d:"M12 22.75C6.07 22.75 1.25 17.93 1.25 12S6.07 1.25 12 1.25 22.75 6.07 22.75 12 17.93 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"}),n.createElement("path",{fill:t,d:"M12 17.47c-1.4 0-2.8-.53-3.87-1.6-.28-.28-.53-.59-.76-.96a.747.747 0 111.27-.79c.17.28.35.5.55.7a3.977 3.977 0 005.62 0c.6-.6.98-1.38 1.11-2.25.06-.41.44-.71.85-.64.41.06.69.44.64.85-.17 1.19-.7 2.26-1.53 3.1A5.522 5.522 0 0112 17.47zM7.34 12.08c-.04 0-.07 0-.11-.01a.754.754 0 01-.64-.85c.17-1.19.7-2.26 1.53-3.1 2.13-2.13 5.6-2.13 7.74 0 .28.28.53.59.76.97a.747.747 0 11-1.27.79c-.17-.27-.35-.5-.55-.7a3.977 3.977 0 00-5.62 0c-.6.6-.98 1.38-1.11 2.25-.04.38-.36.65-.73.65z"}),n.createElement("path",{fill:t,d:"M7.82 17.93c-.41 0-.75-.34-.75-.75v-2.67c0-.41.34-.75.75-.75h2.67c.41 0 .75.34.75.75s-.34.75-.75.75H8.57v1.92c0 .41-.33.75-.75.75zM16.18 10.24h-2.67c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h1.92V6.82c0-.41.34-.75.75-.75s.75.34.75.75v2.67c0 .42-.34.75-.75.75z"}))},N=function(e){var t=e.color;return n.createElement(n.Fragment,null,n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),n.createElement("g",{opacity:".4"},n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8.01 14.51c.18.3.4.58.65.83a4.732 4.732 0 006.68 0 4.71 4.71 0 001.32-2.67M7.34 11.33c.14-.98.57-1.92 1.32-2.67a4.732 4.732 0 016.68 0c.26.26.47.54.65.83"}),n.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7.82 17.18v-2.67h2.67M16.18 6.82v2.67h-2.67"})))},q=(0,n.forwardRef)((function(e,t){var r=e.variant,o=e.color,a=e.size,l=(0,x._)(e,V);return n.createElement("svg",(0,x.a)({},l,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return n.createElement(D,{color:t});case"Broken":return n.createElement($,{color:t});case"Bulk":return n.createElement(A,{color:t});case"Linear":default:return n.createElement(H,{color:t});case"Outline":return n.createElement(_,{color:t});case"TwoTone":return n.createElement(N,{color:t})}}(r,o))}));q.propTypes={variant:j().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:j().string,size:j().oneOfType([j().string,j().number])},q.defaultProps={variant:"Linear",color:"currentColor",size:"24"},q.displayName="RefreshCircle";var J=r(96773),X=r(16545),U=r(166),G=r(99004),K=r(34800),Q=r(68627);function Y(e,t){(0,K.Z)(2,arguments);var r=(0,Q.Z)(t);return(0,G.Z)(e,-r)}var ee=r(89600),te=r(10030),re=r(3051);var ne=r(98789),oe=r(8688),ae=r(95208),le=r(66135),ce=r(58467);const se=function(){var e,t,r,p,f;const x=(0,ce.s0)(),g=(0,le.I0)(),[j,E]=(0,n.useState)([]),[y,w]=(0,n.useState)({todaysRevenue:0,monthlyRevenue:0,totalBills:0}),[M,L]=(0,n.useState)(!0),[Z,S]=(0,n.useState)(null),[z,T]=(0,n.useState)({showTodayRevenue:!0,showMonthlyRevenue:!0,showTotalBills:!0,showLowStockCount:!0,showOutOfStockCount:!0,showTotalProducts:!0,showCreditDebitSummary:!0,showTotalParties:!0,showTotalBalance:!0,lowStockThreshold:10,recentTransactionsCount:5,refreshInterval:5,defaultDateRange:"7days",cardsOrder:["revenue","stock","credit"]}),[B,b]=(0,n.useState)(new Date),{productArray:C=[],loading:P=!1}=(0,le.v9)((e=>e.products||{})),{parties:O=[],loading:F=!1}=(0,le.v9)((e=>e.credit||{}));(0,n.useEffect)((()=>{const e=localStorage.getItem("dashboardSettings");if(e)try{const t=JSON.parse(e);T(t)}catch(t){console.error("Error parsing dashboard settings:",t)}}),[]);const R={totalProducts:(null===C||void 0===C?void 0:C.length)||0,lowStock:(null===C||void 0===C||null===(e=C.filter((e=>(null===e||void 0===e?void 0:e.quantity)>0&&(null===e||void 0===e?void 0:e.quantity)<=z.lowStockThreshold)))||void 0===e?void 0:e.length)||0,outOfStock:(null===C||void 0===C||null===(t=C.filter((e=>(null===e||void 0===e?void 0:e.quantity)<=0)))||void 0===t?void 0:t.length)||0},V={totalParties:(null===O||void 0===O?void 0:O.length)||0,totalBalance:(null===O||void 0===O?void 0:O.reduce(((e,t)=>e+((null===t||void 0===t?void 0:t.balance)||0)),0))||0,creditAccounts:(null===O||void 0===O||null===(r=O.filter((e=>((null===e||void 0===e?void 0:e.balance)||0)>0)))||void 0===r?void 0:r.length)||0,debitAccounts:(null===O||void 0===O||null===(p=O.filter((e=>((null===e||void 0===e?void 0:e.balance)||0)<0)))||void 0===p?void 0:p.length)||0};(0,n.useEffect)((()=>{if(z.refreshInterval>0){const e=setInterval((()=>{D()}),60*z.refreshInterval*1e3);return()=>clearInterval(e)}}),[z.refreshInterval]),(0,n.useEffect)((()=>{g((0,oe.lJ)()),g((0,ae.mO)())}),[g]);const D=async()=>{L(!0),S(null);try{const e=(0,X.hJ)(U.db,"bills"),t=(()=>{switch(z.defaultDateRange){case"7days":default:return Y(new Date,7);case"30days":return Y(new Date,30);case"90days":return Y(new Date,90)}})(),r=(0,X.IO)(e,(0,X.ar)("date",">=",(0,ee.Z)(t,"yyyy-MM-dd")),(0,X.Xo)("date","desc")),n=await(0,X.PL)(r),o=[];n.forEach((e=>{const t=e.data(),r={...t,billId:e.id,items:t.items||[],total:"number"===typeof t.total?t.total:0,subtotal:"number"===typeof t.subtotal?t.subtotal:0,tax:"number"===typeof t.tax?t.tax:0,paymentMethod:t.paymentMethod||"cash",date:t.date||(0,ee.Z)(new Date,"yyyy-MM-dd")};o.push(r)})),E(o.slice(0,z.recentTransactionsCount));const a=new Date;let l=0,c=0;o.forEach((e=>{try{const t=(0,te.Z)(e.date,"yyyy-MM-dd",new Date);(function(e){return(0,K.Z)(1,arguments),(0,re.Z)(e,Date.now())})(t)&&(l+=e.total),(0,ne.Z)(t,a)&&(c+=e.total)}catch(t){console.error(`Error parsing date for bill ${e.billId}: ${e.date}`)}})),w({todaysRevenue:l,monthlyRevenue:c,totalBills:o.length}),b(new Date)}catch(e){console.error("Error fetching data:",e),S(e.message||"Failed to fetch data")}finally{L(!1)}};(0,n.useEffect)((()=>{D()}),[]);const $=e=>`\u20b9${e.toLocaleString()}`;return(0,I.jsx)(a.Z,{sx:{mt:2},children:(0,I.jsxs)(o.ZP,{container:!0,spacing:3,children:[P||F?(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(l.Z,{children:"Loading dashboard data..."})}):null===(f=z.cardsOrder)||void 0===f?void 0:f.map((e=>(e=>{switch(e){case"revenue":return(0,I.jsxs)(I.Fragment,{children:[z.showTodayRevenue&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Today's Revenue",count:M?"\u20b9...":$(y.todaysRevenue),percentage:27.4,extra:`${$(y.todaysRevenue)} today`,color:"success"})}),z.showMonthlyRevenue&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Monthly Revenue",count:M?"\u20b9...":$(y.monthlyRevenue),percentage:12.5,extra:`${$(y.monthlyRevenue)} this month`,color:"primary"})}),z.showTotalBills&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Total Bills",count:M?"...":y.totalBills.toString(),percentage:8.5,extra:`${y.totalBills.toString()} bills`,color:"warning"})})]});case"stock":return(0,I.jsxs)(I.Fragment,{children:[z.showTotalProducts&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Total Products",count:R.totalProducts.toString(),color:"primary",extra:`${R.totalProducts} items in inventory`})}),z.showLowStockCount&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Low Stock Items",count:R.lowStock.toString(),color:"warning",extra:`Below threshold: ${z.lowStockThreshold} units`})}),z.showOutOfStockCount&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,I.jsx)(W,{title:"Out of Stock",count:R.outOfStock.toString(),color:"error",extra:"Products needing restock"})})]});case"credit":return(0,I.jsxs)(I.Fragment,{children:[z.showTotalParties&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(W,{title:"Total Parties",count:V.totalParties.toString(),color:"primary",extra:"Active credit accounts"})}),z.showTotalBalance&&(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(W,{title:"Net Balance",count:$(V.totalBalance),color:V.totalBalance>=0?"success":"error",extra:`${V.creditAccounts} Credit / ${V.debitAccounts} Debit`})})]});default:return null}})(e))),(0,I.jsx)(o.ZP,{item:!0,xs:12,children:(0,I.jsx)(k.Z,{title:(0,I.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,I.jsx)(l.Z,{variant:"h3",children:"Recent Transactions"}),(0,I.jsx)(c.Z,{onClick:()=>{D()},size:"small",children:(0,I.jsx)(q,{})})]}),secondary:(0,I.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,I.jsxs)(l.Z,{variant:"caption",color:"textSecondary",children:["Last updated: ",(0,ee.Z)(B,"HH:mm:ss")]}),(0,I.jsx)(s.Z,{color:"primary",startIcon:(0,I.jsx)(J.Z,{}),onClick:()=>{x("/billing")},children:"Create New Bill"})]}),children:M?(0,I.jsx)(l.Z,{children:"Loading transactions..."}):Z?(0,I.jsx)(l.Z,{color:"error",children:Z}):(0,I.jsx)(i.Z,{children:(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(m.Z,{children:"Date"}),(0,I.jsx)(m.Z,{children:"Customer"}),(0,I.jsx)(m.Z,{align:"right",children:"Items"}),(0,I.jsx)(m.Z,{align:"right",children:"Amount"})]})}),(0,I.jsx)(v.Z,{children:j.length>0?j.map((e=>(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(m.Z,{children:e.date}),(0,I.jsx)(m.Z,{children:e.customerName||"Anonymous"}),(0,I.jsx)(m.Z,{align:"right",children:e.items.reduce(((e,t)=>e+t.quantity),0)}),(0,I.jsx)(m.Z,{align:"right",children:$(e.total)})]},e.billId))):(0,I.jsx)(h.Z,{children:(0,I.jsx)(m.Z,{colSpan:4,align:"center",children:"No transactions found."})})})]})})})})]})})}}}]);